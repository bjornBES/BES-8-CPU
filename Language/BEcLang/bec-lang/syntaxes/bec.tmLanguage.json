{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "BEc_lang",
	"patterns": [
		{
			"include": "#keywords"
		},
		{
			"include": "#expressions"
		},
		{
			"include": "#Libs"
		}
	],
	"repository": {
		"keywords": {
			"patterns": [
				{
					"include": "#entityName"
				},
				{
					"include": "#Variable"
				},
				{
					"name": "keyword.flow.bec",
					"match": "\\b(if|while|for|return)\\b"
				},
				{
					"name": "entity.class.bec",
					"match": "^class\\s[A-Za-z_]*"
				},
				{
					"name": "entity.expression",
					"match": "\\b(public\\s|global\\s|local\\s|const\\s|)\\b(func|word|byte)"
				}
			]
		},
		"entityName": {
			"patterns": [
				{
					"name": "entity.name.function",
					"match": "\\s[A-Za-z_]*\\("
				},
				{
					"name": "entity.name.variable",
					"match": "[A-Za-z_]*\\s\\="
				}
			]
		},
		"Variable":{
			"patterns": [
				{
					"name":"keyword.operator.bec",
					"match": "&[A-Za-z_]*"
				}				
			]			
		},
		"expressions": {
			"patterns": [
				{
					"name": "string.quoted.double.bec",
					"begin": "\"",
					"end": "\"",
					"patterns": [
						{
							"name": "constant.character.escape.bec",
							"match": "\\\\."
						}
					]
				},
				{
					"name": "string.quoted.single.bec",
					"begin": "\\'",
					"end": "\\'",
					"patterns": [
						{
							"name": "constant.character.escape.bec",
							"match": "\\\\."
						}
					]
				},
				{
					"name": "comment.line.double-dash.bec",
					"match": "//.*"
				},
				{
					"name": "constant.numeric",
                    "match": "(?<=\\W|^)[+-]?(0[xX][\\da-fA-F][\\da-fA-F_]*|[\\da-fA-F][\\da-fA-F_]*[hH]|0[bB][01][01_]*|[01_][01_]*[bB]|\\d[\\d_]*)"
				}
			]
		},
		"Libs": {
			"patterns": [
				{
					"include": "#PortsClass"
				}
			]
		},
		"PortsClass": {
			"patterns": [
				{
					"name": "entity.Libs.ports.bec",
					"match": "^\\s*ports.\\b(out\\(|in\\()"
				}
			]
		}
	},
	"scopeName": "source.bec"
}